#!/usr/bin/env python
"""Обновляет задание 7 — каждая позиция имеет свой набор букв."""
import os, django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'main.settings')
django.setup()
from main.models import OgeOrthogram, OgeOrthogramExample

OgeOrthogramExample.objects.all().delete()
OgeOrthogram.objects.all().delete()

orth1, _ = OgeOrthogram.objects.get_or_create(
    id='101',
    defaults={'name': 'Безударная гласная', 'rule': 'Орфография', 'letters': 'а,о,е,и,я'}
)

# Формат correct_letters: "правильная|вариант1/вариант2/вариант3, ..."
# Каждая позиция через запятую

# Пример 1: текст про шмеля с разными буквами
OgeOrthogramExample.objects.create(
    orthogram=orth1,
    text=(
        'Хотя шмель вышел из зимнего сна благодаря теплу, но всё-таки было '
        'прохладно, и шмель начал согревать себя сам, быстро сокращая мышцы '
        'груди и оставляя неподвижными крылья. Он разогревался, как мотор, '
        'и желание полёта возникало в нём всё настойчивее.'
    ),
    masked_word=(
        'Хотя шмель вышел из зимнего сна бл*101*годаря теплу, но всё-таки было '
        'прохладно, и шмель нач*101*л с*101*гревать себя сам, быстро сокр*101*щая мышцы '
        'груди и ост*101*вляя неп*101*движными крыл*101*я. Он р*101*зогревался, как м*101*тор, '
        'и желание п*101*лёта возникало в нём всё настойчивее.'
    ),
    correct_letters=(
        'а|а/о/е,'    # бл_годаря → а
        'а|а/о/е,'    # нач_л → а
        'о|а/о/е,'    # с_гревать → о
        'а|а/о/е,'    # сокр_щая → а
        'а|а/о/е,'    # ост_вляя → а
        'о|а/о/е,'    # неп_движными → о
        'ь|ь/ъ,'      # крыл_я → ь
        'а|а/о/е,'    # р_зогревался → а
        'о|а/о/е,'    # м_тор → о
        'о|а/о/е'     # п_лёта → о
    ),
    is_active=True,
)


print(f"✓ Задание 7: {OgeOrthogramExample.objects.count()} примеров с индивидуальными буквами для каждой позиции")
print("✅ Готово!")
