<!-- main/templates/text_analysis_snippet.html -->
{% load static %}
{% load custom_filters %}
<link rel="stylesheet" href="{% static 'css/planning_style.css' %}">
<div class="text-analysis-exercise" data-exercise-id="{{ exercise_id }}">
    <!-- Текст -->
    <div class="text-content" style="white-space: pre-wrap; margin-bottom: 20px;">
        {{ text_task.text_content|bold_words|safe }}
    </div>

    <!-- Вопросы -->
    <div class="questions">
        {% for question in questions %}
        <div class="question" data-question-number="{{ question.number }}">
        <h4>{{ question.number }}. {{ question.text }}</h4>

        {% if question.type == 'missing_word' %}
            <!-- Задание 1 (в будущем не используется здесь, но оставлено для совместимости) -->
            <input type="text" class="answer-input"
                data-question="{{ question.number }}"
                placeholder="Введите слово..."
                style="width: 200px; padding: 5px;">

        {% elif question.type == 'multiple_choice' or question.type == 'text_characteristics' %}
            <!-- Задания 23 и 24: чекбоксы -->
            <div class="options">
            {% for option in question.options %}
            <div class="option">
                <label>
                <input type="checkbox"
                        value="{{ option.number }}"
                        data-question="{{ question.number }}">
                {{ option.number }}) {{ option.text }}
                </label>
            </div>
            {% endfor %}
            </div>

        {% elif question.type == 'free_text' %}
            <!-- Задания 25 и 26: текстовое поле -->
            <input type="text"
                class="answer-input free-text-answer"
                data-question="{{ question.number }}"
                placeholder="Введите ответ..."
                style="width: 200px; padding: 5px;">

        {% endif %}
        </div>
        <hr>
        {% endfor %}
    </div>

    <!-- Кнопка проверки -->
    <button class="check-text-analysis" style="margin-top: 20px; padding: 10px 20px;">
        Проверить ответы
    </button>

    <!-- Результат -->
    <div class="result" style="margin-top: 20px; display: none;"></div>
</div>